#summary One-sentence summary of this page.

= Introduction =

Cette page explique le processus d'authentification du site Web Coco.fr


= Authentification sur le site Web =

== Le formulaire HTML ==

L'authentification se fait sur la page « http://coco.fr/index.htm », qui contient un formulaire assez simple.

Un formulaire demande :
  * Pseudo : un pseudonyme de 4 à 16 caractères. Variable *nicko*.  
  * Le sexe : homme ou femme. Variable *typeo2*. 
  * Âge : un âge de 15 à 89 ans. Variable *ageu*.
  * Code postal : Variable *zipo*.

== La fonction verifPseudo() ==

Un évènement *onKeyUp* est associé au champ *zipo* lorsque l'utilisateur entre son code postal. À chaque fois qu'une touche est relâchée, la fonction « verifPseudo() » du script « http://coco.fr/codipos.js ». est appelée.

Comme son nom ne l'indique pas la fonction « verifPseudo() » vérifie le code postal et charge un fichier !JavaScript différent suivant le code postal entré.

Par exemple si l'utilisateur entre le code postal « _75001_ » le fichier « http://coco.fr/cocoland/75001.js » sera chargé. Le fichier chargé assigne une chaîne de caractère à la variable *cityco* et appel la fonction « procecodo() »


Voici l'exemple du script « 75001.js » chargé :

{{{
var cityco='30915*PARIS*';
procecodo();
}}}





== La fonction validatio() ==

Lorsque le bouton « _Entrée_ » est pressée, la fonction « validatio() » du script « http://coco.fr/codipos.js ».

  * Vérifie que la longueur de chaîne de caractères *nickidol* , le pseudonyme,  est supérieure à trois caractères.
  * Vérifie que la variable  *ageuq*, l'âge, est supérieure à quatorze.
  * Vérifie que le code postal a bien été entré en vérifiant la variable *citydio* et fabrique une chaîne de caractères *citygood* en copiant la valeur *citydio* précédée du nombre de caractères zéros nécessaires.
  * Créé la variable *infom* basé sur la concaténation suivante : `nickidol + "#" + typum + "#" + ageuq + "#" + townzz + "#" + citygood + "#0#" + cookav +"#"`. Voici un exemple :
    # *nickidol* : Simon
    # *typum* : 1
    # *ageuq* : 37
    # *townzz* : PARIS
    # *citygood* :30915
    # *cooka* : 186767980
    # Ce qui donne la variable *infom* suivante : `Simon#1#37#PARIS#30915#0#186767980#`
  * Un cookie du de nom de *coda* est écrit avec une date durée de vie de dix ans.


