#summary One-sentence summary of this page.

= Introduction =


== Initialisation de la page ==


Quand la page «  http://www.coco.fr/chat/index.html#nickidol#typum#ageuq#citygood#0#sauvy#0# » est appelée les trois fonctions suivants sont exécutées séquentiellement :
  * primo()
  * initial()
  * resinit()

=== Cookie Flash ===

La page « http://www.coco.fr/chat/index.html » comporte une animation [http://fr.wikipedia.org/wiki/Adobe_Flash_Player Abobe Flash] invisible « http://www.coco.fr/chat/chat.swf » utilisée uniquement pour disposer des _cookies Flash_, appelé les [http://fr.wikipedia.org/wiki/Local_Shared_Object objets locaux partagés (en anglais _Local Shared Objects_ ou _LSO_]).
<code language="html">
<object classid='clsid:d27cdb6e-ae6d-11cf-96b8-444553540000' id='flash' width='1' height='1'>
<param name='movie' value='chat.swf' />
<embed src='chat.swf' name='flash' width='1' height='1' type='application/x-shockwave-flash' />
</object>

La valeur du _cookies Flash_ est lue par la fonction « crocu() ».

=== Fonction « primo() » ===

La fonction « primo() » est déclarée à la ligne 983 du fichier « http://www.coco.fr/chat/initio.js ».

La fonction « primo()» va lire le contenu de la barre d'adresse. Dans notre exemple la barre d'adresse est égale à «  http://www.coco.fr/chat/#Simon#1#37#30915#0#186767980#0# ». 

Les paramètres passées à l'URL sont éclatées dans le tableau de la variable *parami* :
{{{
parami = [
    "Simon",
    "1",
    "37",
    "30915",
    "0",
    "186767980" ];
}}}

Certaines variables sont initialisées à partir de ce tableau :

  * *mynickname* = "Simon"
  * *mylownick* = "simon"
  * *mygender*  = "1"
  * *mysex*     = 1 
  * *myage*     = 37
  * *mycityID*   = 30915


La chaîne de l'agent utilisateur du navigateur Web est transformé par la fonction « writo() » et assigné dans la variable *agento*.

Dans notre exemple notre agent utilisateur est « Mozilla/5.0 (Ubuntu; X11; Linux x86_64; rv:8.0) Gecko/20100101 Firefox/8.0 » ce qui donnera la chaîne de caractères suivante :
  * *agento*     = "Mozilla/5.0~(Ubuntu;~X11;~Linux~x86*064;~rv:8.0)~Gecko/20100101~Firefox/8.0"

La variable *myport* est initialisée avec une valeur entre « 3 000 » et « 4 000 ». Exemple :
  * *myport* : 3661

La variable *url1* est initialisée par l'appel de la méthode « chang(nmh) » où *mnh* correspond au numéro de port.

  * *url1* = "http://178.33.122.73:3661/"


=== Fonction « initial() » ===

La fonction « initial() » est déclarée à la ligne 1 280 du fichier « http://www.coco.fr/chat/initio.js ».

La fonction « initial() » va lire le cookie « samedi » et l'assigné dans la variable *infor*.

Dans notre exemple :
* *infor* = "570685428"

La variable *myavatar* est initialisée avec les les caractères 0 à 9 de la chaîne de caractères *infor* :
  * *myavatar* = "570685428"

La *mypass* est initialisée avec les caractères 9 à 29 de *infor* :
  *  *mypass* = ""

Une minuterie est initialisée de 200 millisecondes avant d'appeler la fonction « quasi() ».

=== Fonction « quasi() » ===

La fonction « quasi() » est déclarée à la ligne 1 338 du fichier « http://www.coco.fr/chat/initio.js ».


http://178.33.122.73:3244/51288231UigvGzMozilla/5.0~(Ubuntu;~X11;~Linux~x86*064;~rv:8.0)~Gecko/20100101~Firefox/8.0

{{{
function agir(txt3)
{
txt3 = "" + txt3;
agix(url1 + txt3.substring(0,2) + mynickID + monpass + txt3.substring(2),4);
}


}}}